import{_ as a,j as e,k as s,V as n}from"./chunks/framework.8eb2d2ed.js";const o=JSON.parse('{"title":"信息加密与安全性","description":"","frontmatter":{},"headers":[],"relativePath":"feature/security.md"}'),t={name:"feature/security.md"},l=[n('<h1 id="信息加密与安全性" tabindex="-1">信息加密与安全性 <a class="header-anchor" href="#信息加密与安全性" aria-label="Permalink to &quot;信息加密与安全性&quot;">​</a></h1><p>在 v3.41.0 后续版本，加入了敏感信息加密功能。默认为关。</p><p>为什么需要信息加密。</p><p>假设黑客通过某种手段数据库被脱库。如果开启了信息加密，即便是拿到了全部数据也不能解密某些关键数据，例如配置项中的各类 API Key。</p><p>但是，也需要谨慎开启此功能，开启后你需要记住加密秘钥。否则，你也将会永远丢失这些数据。</p><h2 id="如何开启" tabindex="-1">如何开启 <a class="header-anchor" href="#如何开启" aria-label="Permalink to &quot;如何开启&quot;">​</a></h2><p>你可以附加 <code>--encrypt_enable</code> 来启动服务。如：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">index.js</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--encrypt_enable</span></span></code></pre></div><p>可以通过附加 <code>--encrypt_key &lt;key&gt;</code> 来指定加密密钥，长度必须为 64 位。请牢记此密钥。或者通过环境变量 <code>MX_ENCRYPT_KEY</code> 也可以指定密钥。</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p><code>MX_ENCRYPT_KEY</code> <code>--encrypt_key</code> 不是必须的，默认取机器的 <a href="https://www.npmjs.com/package/node-machine-id" target="_blank" rel="noreferrer">machine-id</a>。</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>此操作时不可逆的，操作前请备份数据库。</p></div><h2 id="自动化加密配置-进阶指令-非必要" tabindex="-1">自动化加密配置（进阶指令）（非必要） <a class="header-anchor" href="#自动化加密配置-进阶指令-非必要" aria-label="Permalink to &quot;自动化加密配置（进阶指令）（非必要）&quot;">​</a></h2><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>此操作时也是不可逆的，操作前请备份数据库。</p></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">core</span></span>\n<span class="line"><span style="color:#FFCB6B;">tsx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">src/migration/helper/encrypt-configs.ts</span></span></code></pre></div>',14)];const c=a(t,[["render",function(a,n,o,t,c,p){return e(),s("div",null,l)}]]);export{o as __pageData,c as default};
